<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <title>Zaitoon Manager</title>
      <link type='text/css' href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400italic,600' rel='stylesheet'>
      <link type="text/css" href="assets/fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet">
      <link type="text/css" href="assets/fonts/themify-icons/themify-icons.css" rel="stylesheet">
      <link type="text/css" href="assets/css/styles.css" rel="stylesheet">
      <link type="text/css" href="assets/plugins/codeprettifier/prettify.css" rel="stylesheet">
      <link type="text/css" href="assets/plugins/iCheck/skins/minimal/blue.css" rel="stylesheet">
      <link rel="shortcut icon" href="assets/icons/favicon.png">
      <!-- Controller -->
      <script src="assets/js/jquery.js"></script>
      <script src="assets/js/angular.min.js"></script>
      <script src="assets/js/angular-cookies.min.js"></script>
      <script src="controllers/promotions.js"></script>
      
      
      <!-- For Form -->
      <link type="text/css" href="assets/plugins/bootstrap-tokenfield/css/bootstrap-tokenfield.css" rel="stylesheet">   <!-- Tokenfield -->
   </head>
   <body class="" ng-app="promotionsApp" ng-controller="promotionsController" ng-cloak>
   
      <header id="topnav" class="navbar navbar-default navbar-fixed-top" role="banner">
         <div class="logo-area">
            <span id="trigger-sidebar" class="toolbar-trigger toolbar-icon-bg">
            <a data-toggle="tooltips" data-placement="right" title="Toggle Sidebar">
            <span class="icon-bg">
            <i class="ti ti-menu"></i>
            </span>
            </a>
            </span>
            <a class="navbar-brand" href="index.html" style="width: 125px"></a>
            <h1 style="font-size: 18px; font-weight: bold; text-transform: uppercase">{{outletCode}}</h1>
         </div>
         <!-- logo-area -->
         <ul class="nav navbar-nav toolbar pull-right">
            <li class="toolbar-icon-bg hidden-xs" id="trigger-fullscreen">
               <a href="#" class="toggle-fullscreen"><span class="icon-bg"><i class="ti ti-zoom-in"></i></span></i></a>
            </li>
            <li class="dropdown toolbar-icon-bg">
               <a href="#" class="dropdown-toggle username" data-toggle="dropdown">
               <img class="img-circle" src="assets/img/default_user.png" alt="" />
               </a>
               <ul class="dropdown-menu userinfo arrow">
                  <li><a href="settings.html"><i class="ti ti-settings"></i><span>Settings</span></a></li>
                  <li ng-click="logoutNow()"><a href="#/"><i class="ti ti-shift-right"></i><span>Sign Out</span></a></li>
               </ul>
            </li>
         </ul>
      </header>
      <div id="wrapper">
         <div id="layout-static">
            <div class="static-sidebar-wrapper sidebar-default">
               <div class="static-sidebar">
                  <div class="sidebar">
                     <div class="widget stay-on-collapse" id="widget-sidebar">
                        <nav role="navigation" class="widget-body">
                           <ul class="acc-menu">
                              <li><a href="index.html"><i class="ti ti-layout-grid2"></i><span>Live Orders</span><span class="badge badge-teal" ng-if="pending_orders_length > 0">{{pending_orders_length}}</span></a></li>
                              <li><a href="completed-orders.html"><i class="ti ti-check-box"></i><span>Completed Orders</span></a></li>
                              <li><a href="helpline-inbox.html"><i class="ti ti-headphone-alt"></i><span>Helpdesk</span><span class="badge badge-inverse" ng-if="helprequests_length > 0">{{helprequests_length}}</span></a></li>
                              <li><a href="edit-menu.html"><i class="ti ti-menu"></i><span>Edit Menu</span></a></li>
                              <li><a href="reservations.html"><i class="ti ti-bookmark-alt"></i><span>Reservations</span><span class="badge badge-inverse" ng-if="reservations_length > 0">{{reservations_length}}</span></a></li>
                              <li><a href="feedback.html"><i class="ti ti-thumb-up"></i><span>Feedbacks</span></a></li>
                              <li>
                                     <a href="javascript:;"><i class="ti ti-settings"></i><span>Tools</span></a>
                                     <ul class="acc-menu">
                                        <li><a href="resources-deliveryboy.html">Delivery Agents</a></li>
                                        <li><a href="failed-orders.html">Failed Orders</a></li>
                                        <li><a href="finance-ledger.html">Sales Ledger</a></li>
                                        <li><a href="user-profile.html">Search User</a></li>
                                     </ul>
                              </li>
                              <li>
                                     <a href="javascript:;"><i class="ti ti-stats-up"></i><span>Marketing</span></a>
                                     <ul class="acc-menu">
                                        <li><a href="promotions.html">Coupons Manager</a></li>
                                        <li><a href="marketing-wizard.html">Marketing Content</a></li>
                                        <li><a href="messenger.html">Messenger</a></li>
                                        <li><a href="analytics.html">Sales Analytics</a></li>
                                        <li><a href="vouchers.html">Vouchers Manager</a></li>
                                     </ul>
                              </li>
                           </ul>
                        </nav>
                     </div>
                  </div>
               </div>
            </div>
            <div class="static-content-wrapper">
		    <div class="static-content">
		    
<div class="page-content">
                    <ol class="breadcrumb">
                    </ol>
                     <div class="container-fluid">
                        <div class="row" style="margin-bottom: 20px">
                           <div class="col-md-4">
                              <div class="info-tile tile-green" style="margin-bottom: 3px">
                                 <div class="tile-icon"><i class="ti ti-thumb-up" style="color: #1abc9c"></i></div>
                                 <div class="tile-heading" style="height: 26px; color: #1abc9c"><span>Active Coupons</span><button class="btn btn-sm btn-default"  ng-click="viewReport('ACTIVE', '')" style="font-weight: 300; float: right"> <i class="fa fa-download"></i> SUMMARY </button></div>
                                 <div class="tile-body">
                                 	<span style="color: #1abc9c" ng-if="coupon_analytics_active != undefined">{{coupon_analytics_active}}</span>
                                 	<span style="color: #1abc9c" ng-if="coupon_analytics_active == undefined">...</span>
                                 </div>
                                 <div class="tile-footer"><span class="text-default" style="color: #1abc9c">Are Running</span></div>
                              </div>                                                         
                           </div>                                                      
                           <div class="col-md-4">
                              <div class="info-tile tile-green" style="margin-bottom: 3px">
                                 <div class="tile-icon"><i class="ti ti-check-box" style="color: #1abc9c"></i></div>
                                 <div class="tile-heading" style="height: 26px; color: #1abc9c"><span>Redeem Count</span></div>
                                 <div class="tile-body">
                                 	<span style="color: #1abc9c" ng-if="coupon_analytics_used != undefined">{{coupon_analytics_used}}</span>
                                 	<span style="color: #1abc9c" ng-if="coupon_analytics_used == undefined">...</span>
                                 </div>
                                 <div class="tile-footer"><span class="text-default" style="color: #1abc9c">Times Coupons Redeemed</span></div>
                              </div> 
                           </div>
                           <div class="col-md-4">
                              <div class="info-tile tile-orange" style="margin-bottom: 3px">
                                 <div class="tile-icon"><i class="ti ti-timer" style="color: #ffc0a7"></i></div>
                                 <div class="tile-heading" style="height: 26px; color: #ffc0a7"><span>Expired Coupons</span><button class="btn btn-sm btn-default" ng-click="viewReport('EXPIRED', '')" style="font-weight: 300; float: right"> <i class="fa fa-download"></i> SUMMARY </button></div>
                                 <div class="tile-body">
                                 	<span style="color: #ffc0a7" ng-if="coupon_analytics_expired != undefined">{{coupon_analytics_expired}}</span>
                                 	<span style="color: #1abc9c" ng-if="coupon_analytics_expired == undefined">...</span>
                                 </div>
                                 <div class="tile-footer"><span class="text-default" style="color: #ffc0a7">Are Inactive</span></div>
                              </div>
 
                           </div>
                        </div>
                        <div data-widget-group="group1">
                           <div class="row">
                              <div class="col-md-6">
                                 <div class="panel panel-teal" style="margin-bottom: 10px">
                                    <div class="panel-heading">
                                       <h2>Active Coupons</h2>
                                       <button class="btn btn-default" style="float: right; margin-top: 8px" ng-if="!newCouponWindowFlag" ng-click="showNewCouponWindow()"><i class="ti ti-plus"></i> Add New</button>
                                    </div>
                                    <div class="panel-body no-padding">
                                       <p ng-if="!active_coupons.length" style="padding: 20px; text-align: center" class="ng-scope">There are no active coupons.</p>
                                       <table class="table m-n" ng-if="active_coupons.length">
                                          <thead>
                                             <tr>
                                                <td></td>
                                                <td>Coupon</td>
                                                <td>Used</td>
                                                <td>Limit</td>
                                                <td>Expiry</td>
                                                <td></td>
                                                <td></td>
                                             </tr>
                                          </thead>
                                          <tbody>
                                             <tr ng-repeat="coupon in active_coupons track by $index">
                                                <td>#{{$index + 1}}</td>
                                                <td style="color: #3498db; font-weight: bold;">{{coupon.code}}</td>
                                                <td>{{coupon.used}}</td>
                                                <td>{{coupon.limit}}</td>
                                                <td>{{coupon.expiry}}</td>
                                                <td><a ng-click="viewCoupon(coupon.code)"><i class="fa fa-wrench" aria-hidden="true" style="color: #bdc3c7"></i></a></td>
                                                <td><a ng-click="viewReport(0, coupon.code)"><i class="fa fa-file-text-o" aria-hidden="true" style="color: #bdc3c7"></i></a></td>
                                             </tr>
                                          </tbody>
                                       </table>                                       
                                    </div>
                                    <center>                                    
                                    	<button class="btn btn-default-alt btn-sm" style="margin: 10px" ng-if="isMoreLeft" ng-click="loadMore()">Load More</button>
                                    </center>
                                 </div>	                                 

                              </div>
                              <div class="col-md-6">
                                 <div class="panel panel-bluegray" ng-show="newCouponWindowFlag || editCouponWindowFlag">
                                    <div class="panel-heading" style="background: #27ae60 !important;" ng-if="!editCouponWindowFlag && newCouponWindowFlag">
                                       <h2>New Coupon Code</h2>
                                    </div>
                                    <div class="panel-heading" style="background: #f39c12 !important;" ng-if="editCouponWindowFlag && !newCouponWindowFlag">
                                       <h2 style="color: #FFF">Editing Coupon - {{viewingCode}}</h2>
                                       <tag style="font-size: 11px; float: right;">Created on {{myCreatedDate}}</tag>
                                    </div>
                                    <div class="panel-body">
                                       <div class="row">
                                          <div class="col-md-12">
                                             <form class="form-horizontal tabular-form">
                                             	<div class="form-group">
                                                   <label for="form-name" class="col-sm-3 control-label">Coupon Code</label>
                                                   <div class="col-sm-8">
                                                      <input type="text" ng-model="newCoupon.code" class="form-control" style="text-transform: uppercase; color: #3498db; font-weight: 900;">
                                                   </div>
                                                </div>
                                                <div class="form-group">
                                                   <label class="col-sm-3 control-label">Description</label>
                                                   <div class="col-sm-8">
                                                      <textarea class="form-control" ng-model="newCoupon.brief"></textarea>
                                                   </div>
                                                </div>
                                                <div class="form-group">
                                                   <label for="form-name" class="col-sm-3 control-label">Limit Usage</label>
                                                   <div class="col-sm-8">
                                                      <input type="text" ng-model="newCoupon.limit" class="form-control">
                                                   </div>
                                                </div>
                                                <div class="form-group">
                                                   <label for="form-name" class="col-sm-3 control-label">Expiry Date</label>
                                                   <div class="col-sm-8">
                                                      <input type="text"  id="new_date" class="form-control">
                                                   </div>
                                                </div>
                                                <div class="form-group">
                                                   <label for="selector1" class="col-sm-3 control-label">Rule</label>
                                                   <div class="col-sm-8">
                                                      <select name="selector1" id="selector1" class="form-control" ng-model="newCoupon.rule" ng-change="selectRule()">
                                                         <option value="PERCENTAGE">Get P% off (maximum discount Rs. D) on minimum cart value of Rs. M</option>
                                                         <!-- <option value="COMBO">Buy A, B, C... and get X, Y, Z... free.</option> -->
                                                      </select>
                                                   </div>
                                                </div>
                                                <div class="form-group" ng-if="newCoupon.rule == 'PERCENTAGE'">
                                                   <label for="form-name" class="col-sm-3 control-label">Percentage (P%)</label>
                                                   <div class="col-sm-8">
                                                      <input type="number" ng-model="newCoupon.percentageP" class="form-control">
                                                   </div>
                                                </div>
                                                <div class="form-group" ng-if="newCoupon.rule == 'PERCENTAGE'">
                                                   <label for="form-name" class="col-sm-3 control-label">Minimum Cart Value (Rs. M)</label>
                                                   <div class="col-sm-8">
                                                      <input type="number" ng-model="newCoupon.percentageM" class="form-control">
                                                   </div>
                                                </div>
                                                <div class="form-group" ng-if="newCoupon.rule == 'PERCENTAGE'">
                                                   <label for="form-name" class="col-sm-3 control-label">Maximum Discount (Rs. D)</label>
                                                   <div class="col-sm-8">
                                                      <input type="number" ng-model="newCoupon.percentageD" class="form-control">
                                                   </div>
                                                </div>
						<div class="form-group">
							<label class="col-sm-3 control-label">Outlet Restriction</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" id="tokenfield-typeahead" value=""/>
								<p style="margin: 5px 0px 0px 0px; color: #bdc3c7; font-size: 12px">Leave it blank if the coupon is valid across all the outlets</p>
							</div>
						</div>
                                             </form>
                                          </div>
                                       </div>
                                       
                                       <p style="color: #e74c3c; font-weight: bold; margin: 10px 0px 0px 0px; text-align: center;">{{saveError}}</p>
                                       
                                    </div>                                    
                                    
                                    <div class="panel-footer">
                                       <div class="row">
                                          <div class="col-sm-12">
                                             <button class="btn-success btn pull-right" ng-click="saveNewCoupon()">Save</button>
                                             <button class="btn-default btn pull-right" style="margin-right: 10px" ng-click="hideCouponWindow()">Cancel</button>
                                             <button class="btn-danger btn pull-left" ng-if="editCouponWindowFlag" ng-click=  "deactivateCoupon(newCoupon.code)">Deactivate</button>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              
                              <!-- Confirmation Modal -->
					<div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">								
								<div class="modal-body">
									<h2 style="color: #FFF; font-weight: 700; text-transform: uppercase; background: #FFC300; padding: 10px 15px; display: inline-block; border: 2px #EAEAEA dashed">{{newCoupon.code}}</h2>
									<p style="font-size: 21px; color: #34495e">{{newCoupon.brief}}</p>
									<p style="margin: 0; color: #7f8c8d">Customer who orders a minimum of Rs. {{newCoupon.percentageM}} would get {{newCoupon.percentageP}}%
 discount with a maximum cap of Rs. {{newCoupon.percentageD}}</p>
 									<p style="margin: 0; color: #bdc3c7">Maximum Usage Limit: <tag style="font-weight: bold; color: #2ecc71">{{newCoupon.limit}}</tag> | Expiry: <tag style="font-weight: bold; color: #2ecc71">{{newCoupon.expiryDate}}</tag></p>
									
								</div>
								<div class="modal-footer">
									<h2 class="modal-title" style="font-size: 16px; color: #95a5a6; float: left">Do you really want to save this coupon?</h2>
									<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
									<button type="button" class="btn btn-success" ng-click="createCoupon()">Save</button>
									<p style="color: #e74c3c; margin: 10px 0px 0px 0px; text-align: center;">{{createError}}</p>
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
					</div><!-- /.modal -->
					
					
					
					
					 <!-- Date Modal -->
					<div class="modal fade" id="dateModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">								
								<div class="modal-body">
									<p style="font-size: 21px; color: #34495e">From when to when do you want to generate the summary?</p>
									<div class="row">
								                <div class="col-sm-4">
								                  <label style="font-size: 10px">FROM DATE</label><br>
									          <input type="text" id="reportFromDate" style="border: none; border-bottom: 1px solid">
								                </div>
								                <div class="col-sm-4">
								                  <label style="font-size: 10px">TO DATE</label><br>
					 				          <input type="text" id="reportToDate" style="border: none; border-bottom: 1px solid">
								                </div>
								                <div class="col-sm-4">
								                  <button type="button" class="btn btn-success btn-block" style="float:right; margin-top: 20px" ng-click="generateReport(contentMode, contentCode, 'RANGE')">Generate</button>
								                </div>									
									</div>
								</div>
								<div class="modal-footer">
									
									<button type="button" class="btn btn-default" style="float:right" data-dismiss="modal">Cancel</button>
									
									<button type="button" class="btn btn-default" style="float:left; font-weight: 300" ng-click="generateReport(contentMode, contentCode, 'ALL')">Generate Summary Since Beginning</button>
									
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
					</div><!-- /.modal -->
					
					
					
					
                           </div>
                        </div>
			
			<!--
			<div>
			  <img id="image" src="../assets/promos/app_banner.jpg" style="max-width: 100%;">
			</div>
			-->
			</div> <!-- Container fluid -->
		      </div> <!-- Page content -->
		    </div>
		
		</div>



         </div>
      </div>
      

      
      <script type="text/javascript" src="assets/js/jquery-1.10.2.min.js"></script> 							<!-- Load jQuery -->
<script type="text/javascript" src="assets/js/jqueryui-1.10.3.min.js"></script> 							<!-- Load jQueryUI -->
<script type="text/javascript" src="assets/js/bootstrap.min.js"></script> 								<!-- Load Bootstrap -->
<script type="text/javascript" src="assets/js/enquire.min.js"></script> 									<!-- Load Enquire -->
<script type="text/javascript" src="assets/plugins/form-typeahead/typeahead.bundle.min.js"></script>                 	<!-- Typeahead for Autocomplete -->
<script type="text/javascript" src="assets/plugins/velocityjs/velocity.min.js"></script>					<!-- Load Velocity for Animated Content -->
<script type="text/javascript" src="assets/plugins/velocityjs/velocity.ui.min.js"></script>

<script type="text/javascript" src="assets/plugins/wijets/wijets.js"></script>     						<!-- Wijet -->

<script type="text/javascript" src="assets/plugins/codeprettifier/prettify.js"></script> 				<!-- Code Prettifier  -->
<script type="text/javascript" src="assets/plugins/bootstrap-switch/bootstrap-switch.js"></script> 		<!-- Swith/Toggle Button -->

<script type="text/javascript" src="assets/plugins/bootstrap-tabdrop/js/bootstrap-tabdrop.js"></script>  <!-- Bootstrap Tabdrop -->

<script type="text/javascript" src="assets/plugins/iCheck/icheck.min.js"></script>     					<!-- iCheck -->

<script type="text/javascript" src="assets/plugins/nanoScroller/js/jquery.nanoscroller.min.js"></script> <!-- nano scroller -->

<script type="text/javascript" src="assets/js/application.js"></script>
<script type="text/javascript" src="assets/demo/demo.js"></script>


<script type="text/javascript" src="assets/plugins/form-validation/jquery.validate.min.js"></script>  					<!-- Validate Plugin -->
<script type="text/javascript" src="assets/plugins/form-stepy/jquery.stepy.js"></script>  								<!-- Stepy Plugin -->
<script type="text/javascript" src="assets/plugins/bootstrap-tokenfield/bootstrap-tokenfield.min.js"></script>     		<!-- Tokenfield -->
<script type="text/javascript" src="assets/demo/demo-formwizard.js"></script>
<script type="text/javascript" src="assets/demo/demo-formcomponents.js"></script>

     <script type="text/javascript" src="assets/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script> <!-- DateTime Picker -->
    
   </body>
</html>
